---
title: "ROPES Hub Dashboard"
---

```{shinylive-python}
#| standalone: true
#| viewerHeight: 600
#| components: [viewer]

from shiny import App, ui, render, reactive
import pandas as pd
import io
from urllib.request import urlopen

# Load the CSV file from a URL
csv_url = "https://raw.githubusercontent.com/jrgrohs/ROPESHubDashboard/refs/heads/main/SLRDataDashboard.csv"
response = urlopen(csv_url)
csv_data = response.read().decode('utf-8')
df = pd.read_csv(io.StringIO(csv_data))


app_ui = ui.page_fluid(
    ui.panel_title("Systematic Literature Review Dashboard"),
    ui.layout_sidebar(
        ui.sidebar(
            ui.input_text("title_search", "Search in Title", placeholder="Enter keywords"),
            ui.input_select(
                "venue_filter",
                "Publication Venue",
                choices=["All"] + list(df["publication_venue"].unique()),
            ),
            width=250,
        ),
        ui.card(
            ui.card_header("Filtered Papers"),
            ui.output_data_frame("papers_table"),
        ),
    ),
)

def server(input, output, session):
    @reactive.calc
    def filtered_data():
        data = df.copy()
        
        if input.title_search():
            data = data[data["title"].str.contains(input.title_search(), case=False)]
        
        if input.venue_filter() != "All":
            data = data[data["publication_venue"] == input.venue_filter()]
        
        return data

    @output
    @render.data_frame
    def papers_table():
        return render.DataGrid(
            filtered_data(),
            row_selection_mode="multiple",
            width="100%",
            height="100%",
        )

app = App(app_ui, server)
```